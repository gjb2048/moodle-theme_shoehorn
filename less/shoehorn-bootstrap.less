// Bootstrap 3 overrides.

// breadcrumbs.less.
.breadcrumb {
  background-color: rgba(red(@breadcrumb-bg), green(@breadcrumb-bg), blue(@breadcrumb-bg), 0.5);

  > li {
    + li:before {
      content: none;
      padding: 0px;
    }
  }
}

// Carousel.less.
// Centre the image.
.carousel-inner {
  > .item {
    > img {
       width: 100%;
       max-width: 600px;
       max-height: 300px;
       margin: 0 auto;
       padding: 0;
    }
  }
}

// Left/right controls for nav.
.carousel-control {
  background: none;  // Removes background that was used to surround original control.
  border: none; // No border required.
  width: auto; // Using Font Awesome.
  height: auto; // Using Font Awesome.

  top: 40%;
  margin-top: -20px;
  font-size: 52px;
  font-weight: 100;
  line-height: 30px;

  &.left,
  &.right {
    background-image: none;
    background-repeat: none;
  }

  // Hover/focus state.
  &:hover,
  &:focus {
    color: lighten(@carousel-control-color, 5%);
  }
}

// Carousel indicator pips.
.carousel-indicators {
  li {
    background: @text-color;
    background: rgba(red(@text-color),green(@text-color),blue(@text-color),.75);
  }
}

// Caption for text below images.
.carousel-caption {
  background: @carousel-control-color;
  background: rgba(red(@carousel-control-color),green(@carousel-control-color),blue(@carousel-control-color),.25);
}

// Technicially dropdowns.less.
.dropdown-menu > li > a {
  &:hover,
  &:focus {
    span:first-child, i:first-child {
      background-color: rgba(red(@dropdown-link-active-color), green(@dropdown-link-active-color), blue(@dropdown-link-active-color), 0.5);
      border-radius: @border-radius-base;
      padding: 2px;
      margin-left: -2px;
      margin-right: 3px;
    }
  }
}

.navbar-inverse .dropdown-menu {
    background-color: @navbar-inverse-bg;
    li > a {
        color: @navbar-inverse-color;
        &:hover,
        &:focus {
            span:first-child, i:first-child {
                background-color: rgba(red(@navbar-inverse-link-active-color), green(@navbar-inverse-link-active-color), blue(@navbar-inverse-link-active-color), 0.5);
            }
        }
    }
}

// Fix dropdown menu.  From: https://gist.github.com/JumpLink/7140006 via https://moodle.org/mod/forum/discuss.php?d=256770#p1113784 to http://firdaus.grandexa.com/2013/09/twitter-bootstrap-3-multilevel-dropdown-menu/.
.dropdown-submenu{
    position:relative;
}
 
.dropdown-submenu > .dropdown-menu {
    top:0;
    left:100%;
    margin-top:-6px;
    margin-left:-1px;
    -webkit-border-radius:0 6px 6px 6px;
    -moz-border-radius:0 6px 6px 6px;
    border-radius:0 6px 6px 6px;
}

@media (max-width: @screen-sm-min) {
    .dropdown-submenu > .dropdown-menu {
        margin-left: 10px;
    }
}

.dropdown-submenu:hover > .dropdown-menu {
    display:block;
}

.dropdown-submenu > a:after {
    display:block;
    content:" ";
    float:right;
    width:0;
    height:0;
    border-color: transparent;
    border-style: solid;
    border-width: 5px 0 5px 5px;
    border-left-color: @navbar-default-color;
    margin-top: 5px;
    margin-right: -10px;
}

.navbar-inverse .dropdown-submenu > a:after {
    border-left-color: @navbar-inverse-color;
}

.dropdown-submenu:hover > a:after {
    border-left-color: lighten(@navbar-default-color, 16%);
}

.navbar-inverse .dropdown-submenu:hover > a:after {
    border-left-color: darken(@navbar-inverse-color, 16%);
}

.dropdown-submenu .pull-left{
    float:none;
}

.dropdown-submenu.pull-left > .dropdown-menu{
    left:-100%;
    margin-left:10px;
    -webkit-border-radius:6px 0 6px 6px;
    -moz-border-radius:6px 0 6px 6px;
    border-radius:6px 0 6px 6px;
}
// See more at: http://firdaus.grandexa.com/2013/09/twitter-bootstrap-3-multilevel-dropdown-menu/#sthash.Vz3blFqP.dpuf.

// forms.less.
label {
    margin-left: 4px;
    margin-right: 4px;
}

// Technicially grid.less.
// I think the nested grid is broken in BS 3.1.1.
.row > .row {
  margin-left: 0px;
  margin-right: 0px;
}

// panels.less.
.panel-title {
  color: @text-color;

  > a {
    color: @link-color;
  }
}

.panel-primary {
  background-color: @panel-primary-border;
}
.panel-success {
  background-color: @panel-success-border;
}
.panel-info {
  background-color: @panel-info-border;
}
.panel-warning {
  background-color: @panel-warning-border;
}
.panel-danger {
  background-color: @panel-danger-border;
}

// labels.less.
.label {
  text-align: left;
}

// scaffolding.less.
a {
  &:hover,
  &:focus {
    text-decoration: none;
    background-color: rgba(red(@page-bottom-bg-light), green(@page-bottom-bg-light), blue(@page-bottom-bg-light), 0.4);
    border-radius: @border-radius-base;
  }
}