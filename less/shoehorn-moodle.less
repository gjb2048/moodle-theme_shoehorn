// Moodle overrides.
// backup-restore.less.
.path-backup .mform .grouped_settings {
    &.section_level {
        margin-left: 0px;
        margin-right: 0px;
    }
}

// calendar.less.
.block .minicalendar td.weekend {
    color: lighten(@text-color, 10%);
}

// core.less.
// Bas 'fixed moving blocks to empty region' 17/01/2014 - SHA-1: 7c2d6dd6b36097290d63865acd07137b0b0497d6.
// Look at mixins.less for left and right on push and pull respectively.
.editing.used-region-side-post.used-region-side-pre {
    #region-main {
        .make-sm-column(4);
        .make-md-column(6);
        //.make-sm-column-push(4);
        //.make-md-column-push(3);
        left: inherit;
    }
    #block-region-side-post {
        .make-sm-column(4);
        .make-md-column(3);
        min-height: 100px;
    }
    #block-region-side-pre {
        .make-sm-column(4);
        .make-md-column(3);
        //.make-sm-column-pull(4);
        //.make-md-column-pull(6);
        right: inherit;
        min-height: 100px;
    }
}

// Dropdown editing menu for a module on the course page.
.moodle-actionmenu[data-enhanced].show  {
    .menu {
        a {
            &:hover,
            &:focus {
                img {
                    background-color: rgba(red(@dropdown-link-active-color), green(@dropdown-link-active-color), blue(@dropdown-link-active-color), 0.5);
                    border-radius: @border-radius-base;
                }
            }
        }
    }
}

.moodle-dialogue-base .moodle-dialogue-wrap {
    border: 1px solid @page-bottom-bg-dark-spin;
    //border: 1px solid @page-bottom-bg-light;
    box-shadow: 5px 5px 20px 0 @text-color;
    background-color: @page-bottom-bg;
}
.moodle-dialogue-base .moodle-dialogue-wrap .moodle-dialogue-hd,
.moodle-dialogue-base .moodle-dialogue-wrap .moodle-dialogue-hd.yui3-widget-hd {
    color: @text-color;
    border-bottom: 1px solid @navbar-default-border;
    //background: @page-bottom-bg-light;
    #gradient > .vertical(#fff, @navbar-default-bg);
}

.moodle-dialogue-base .moodle-dialogue .moodle-dialogue-bd {
    color: @text-color;
    input {
        border-radius: @border-radius-base;
        border-color: @page-bottom-bg-light;
    }
}


// course.less.
.course-content {
    .section-summary {
        border: 1px solid @text-color;
    }
    ul {
        li.section.main {
            border-bottom: 2px solid @page-bottom-bg-light;
        }
    }
}

#page-course-index-category {
    .generalbox.info {
        border: 1px dotted @text-color;
    }
}

// filemanager.less.
.filemanager a,
.file-picker a,
.filemanager a:hover,
.file-picker a:hover {
    color: @text-color;
}

.filemanager .fp-navbar {
    background: @page-bottom-bg-light;
    border: 1px solid @page-bottom-bg;
}
.fp-pathbar {
    border-top: 1px solid @page-bottom-bg;
}

.fp-iconview .fp-thumbnail img {
    border: 1px solid @page-bottom-bg;
    box-shadow: 1px 1px 2px 0 @page-bottom-bg-light;
}
.fp-iconview .fp-thumbnail:hover {
    border: 1px solid @page-bottom-bg;
    box-shadow: inset 0 0 10px 0px @page-bottom-bg-light;
}
.fp-iconview .fp-filename-field {
    height: 44px;
    word-wrap: break-word;
    //overflow: visible;
}
.fp-iconview .fp-filename-field:hover {
    //overflow: visible;
    z-index: 1000;
}

.fp-toolbar .fp-btn-add,
.fp-toolbar .fp-btn-download,
.fp-toolbar .fp-btn-mkdir,
.fp-toolbar .fp-tb-help,
.fp-toolbar .fp-tb-manage,
.fp-toolbar .fp-tb-logout,
.fp-toolbar .fp-tb-refresh
 {
    border: 1px solid @page-bottom-bg;
    border-bottom: 1px solid @page-bottom-bg-light;
}

.fp-toolbar a:hover {
    background-image: radial-gradient(ellipse at center, #fff 60%, @page-bottom-bg-light 100%);
    background-color: darken(@body-bg, 8%);
}

.fp-toolbar a:active {
    background-image: radial-gradient(ellipse at center, #fff 40%, @page-bottom-bg-light 100%);
    background-color: darken(@body-bg, 12%);
}

.filepicker-filelist,
.filemanager-container {
    background: @body-bg;
    border: 1px solid @page-bottom-bg;
    min-height: 170px;
}

.filemanager .fp-content{
    overflow: auto;
    max-height: 472px;
    min-height: 177px;
}

.fp-select .fp-hr {
    border-bottom: 1px solid @page-bottom-bg-light;
}

.fp-select .fp-thumbnail {
    border: 1px solid @page-bottom-bg-dark;
    box-shadow: inset 0 0 10px 0 @page-bottom-bg;
}
.fp-select .fp-thumbnail img {
    border: 1px solid @page-bottom-bg-dark;
}

.fp-viewbar {
    border: 1px solid @page-bottom-bg;
    border-bottom: 1px solid @page-bottom-bg-light;
}

.fp-viewbar a {
    border-right: 1px solid @page-bottom-bg;
}

.fp-viewbar a.checked:hover,
.fp-viewbar a:hover {
    background-image: radial-gradient(ellipse at center, #fff 60%, @page-bottom-bg 100%);
    background-color: @page-bottom-bg;
}

.fp-viewbar a.checked,
.fp-viewbar a:active {
    background-image: radial-gradient(ellipse at center, #fff 40%, @page-bottom-bg 100%);
    background-color: @page-bottom-bg;
}

// Drag and drop support (filemanager and filepicker form elements)
.filepicker-filelist .filepicker-container,
.filemanager.fm-noitems .fm-empty-container {
    padding-top: 75px;  // Allows for two lines in the file picker (for different languages) without hitting the border on certain screen sizes.
    border: 2px dotted @page-bottom-bg;
}


// forms.less.
// Basic mforms layout, used in resources, user profile etc.
.mform {
    fieldset {
        .fitem {
            .fitemtitle {
                .fgrouplabel {
                    label {
                        padding-top: 0px;
                    }
                }
            }
        }
    }
    fieldset.hidden {
        .fitem {
            .fitemtitle {
                .make-sm-column(3);
                .make-md-column(2);
                .make-lg-column(1);
            }
            .felement {
                .make-sm-column(9);
                .make-md-column(10);
                .make-lg-column(11);
            }
        }
        > div {
            .make-sm-column(12);
            .make-sm-column-offset(0);
            .make-md-column(12);
            .make-md-column-offset(0);
            .make-lg-column(12);
            .make-lg-column-offset(0);
        }
    }
    // submit buttons
    fieldset.hidden:last-child { // This breaks IE8, see: https://github.com/ds125v/theme_bootstrap/commit/d83ddc3fd4d8487492f1fcfe396e411cfccc1e5d - https://github.com/bmbrands/theme_bootstrap/pull/231
            &:extend(.form-group);
            &:extend(.form-horizontal .form-group);
            > div {
                .make-sm-column(9);
                .make-sm-column-offset(3);
                .make-md-column(10);
                .make-md-column-offset(2);
                .make-lg-column(11);
                .make-lg-column-offset(1);
            }
    }
}

.mform .iconhelp {
    margin-right: -4px;
}

.mform fieldset.collapsible legend a.fheader {
    margin-left: 0px;
}

.path-admin .buttons,
.form-buttons {
// Counteract 'float' caused by .make-md-column(8);.
    float: none;
}

// At this width and above the form label stacks beside the control
@media (min-width: @screen-md-min) {
    .form-item .form-setting input[type="text"],
    .form-item .form-setting input[type="password"],
    .form-item .form-setting select,
    .mform .fcontainer .fitem .felement input[type="text"],
    .mform .fcontainer .fitem .felement input[type="password"],
    .mform .fcontainer .fitem .felement select {
        min-width: 445px;
    }
    .form-item .form-setting td input[type="text"] {
        min-width: 220px; // Device detection regular expressions boxes on 'Theme settings' page.
    }
}

// login.less
.loginbox.onecolumn {
    .make-sm-column(8);
    .make-sm-column-push(2);
    .make-md-column(6);
    .make-md-column-push(3);
}

.loginbox.onecolumn {
    // Separate to override above.
    float: none;
    background-color: rgba(red(@page-bottom-bg), green(@page-bottom-bg), blue(@page-bottom-bg), 0.5);
}

// modules.less.
#page-footer {
    margin-top: 0;
    border-top: none;
    padding-top: 1em;
    padding-bottom: 1.5em;
}

.container-fluid {
    max-width: none;
}

// question.less.
.que .info,
.path-mod-quiz .qnbutton { // mod_quiz style sheet.
    background-color: @page-bottom-bg;
    border: 1px solid @page-bottom-bg-dark-spin;
    border-radius: 4px;
}

// tags.less.
.carousel-caption, .carousel-indicators {
    bottom: 0px;
}

// YUI.
.yui-skin-sam .yui-panel {
    color: @text-color;
    background-color: @page-bottom-bg;
    border: 1px solid @page-bottom-bg-dark-spin;
    border-radius: 4px;
    border-color: @page-top-bg;
}

.yui-skin-sam .yui-panel .hd,
.yui-skin-sam .yui-panel .bd,
.yui-skin-sam .yui-panel .ft {
    color: @text-color;
    background-color: @page-bottom-bg;
}

.yui-skin-sam .yui-panel .ft {
    border-radius: 0px 0px 4px 4px;
}

.yui-skin-sam .yui-panel .hd {
    #gradient > .vertical(#fff, @navbar-default-bg);
    //background: @navbar-default-bg;
    border-color: @navbar-default-border;
    border-radius: 4px;
    border-bottom: solid 1px @page-top-bg;
    margin-top: -1px;
    padding-top: 1px;
    margin-bottom: -2px;
    padding-bottom: 2px;
}
